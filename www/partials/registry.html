<div id="wrapper">

  <!-- Sidebar -->
  <div id="sidebar-wrapper">
      <ul class="sidebar-nav">
          <li class="sidebar-brand">
              <a href="/">
                  <img src="img/icon.svg">
              </a>
          </li>
          <!--<li>
              <a href="/registry">Registry</a>
          </li>
          <li>
              <a href="/favorite">Favorites</a>
          </li>-->
      </ul>
  </div>
<div id="page-content-wrapper">
        <div class="row">
            <div id="section-title">
                <h2><a href="/">Stackfiles.io</a></h2>
                <p class="pull-right login" ng-show="user!=undefined">{{user}}</p>
                <a href="#" class="pull-right login" ng-hide="user!=undefined">Login</a>
            </div>
            <div class="col-lg-12 gradient">
                <div class="elem-bar">
                    <h2>Stacks</h2>
                    <!--<i class="fa fa-search" style="padding-left:10px;"></i>-->
                    <input type="text" class="search-bar" placeholder="" ng-model="data.search" ng-init="checkSearch()" ng-change="searchFile()">
                    <a class="btn boxed-btn submit-btn pull-right" ng-click="signin()"></i> Submit a Stackfile</a>
                </div>
            </div>
            <div class="container-fluid">
                <div class="col-lg-11 content-list" ng-show="data.search.length">
                    <table ng-show="results.length" class="table">
                        <tbody>
                            <tr ng-repeat="result in results" ng-class-odd="odd" ng-class-even="even" ng-hide="currentSection === 1">
                                <td class="main"><a class="stack-name" href="/registry/{{result._id}}">{{result._source.title}}</a><p class="stack-services">{{result._source.tags.length}} Services</p><p class="stack-user">by {{result._source.user}}</p></td>
                                <td style="vertical-align:middle"><a class="btn boxed-btn deploy-btn" ng-click="deploy(result._id)" target="_blank">Deploy to Tutum</a></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                    <div ng-hide="results.length" style="text-align: center">No result</div>
                </div>
                <div class="col-lg-11 content-list" ng-hide="data.search.length">
                    <table class="table">
                        <tbody>
                            <tr ng-repeat="file in files" ng-class-odd="odd" ng-class-even="even">
                                <td class="main"><a class="stack-name" href="/registry/{{file._id}}">{{file.title}}</a><p class="stack-services">{{file.tags.length}} Services</p><p class="stack-user">By {{file.user}}</p></td>
                                <td style="vertical-align:middle"><a class="btn boxed-btn deploy-btn" ng-click="deploy(file._id)" target="_blank">Deploy to Tutum</a></td>
                                <td style="vertical-align:middle"><svg class="star" ng-init="isFav()" ng-click="favorite(file._id); file.stars = file.stars + 1; validated={stroke:'#FFC400', fill:'#FFC400'}" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path ng-style="validated" stroke="#f1f1f1" fill="#f1f1f1" d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/>
                                        <path d="M0 0h24v24H0z" fill="none"/>
                                    </svg><p class="favorite-num">{{file.stars}}</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
